{% extends "stats_base.html" %}

{% block title %}Installation Problems{% endblock %}

{% block search %}{% endblock %}

{% block header %}{% endblock %}

{% block page-content %}

{% if host_report %}
  <h3>Installation Problems</h3>
{% else %}
  <h2>Installation Problems</h2>
  <a href="/admin/stats">Back to stats home</a>
{% endif %}

  <p>{{ install_problems|length }} problems found (limit {{ limit }}).</p>

  {% if next_page %}
    <a href="/admin/stats/installproblems?page={{ next_page }}">Next Page &raquo;</a>
  {% endif %}

{% if install_problems %}
  <table class="stats-table">
    <tr>
       <th>Details</th>
       {% if not host_report %}
         <th>UUID</th>
       {% endif %}
       <th>Time</th>
       <th>Time Since</th>
    </tr>
    {% for problem in install_problems %}
      <tr class="{% cycle lbg,dbg %}">
        <td>{{ problem.details }}</td>
        {% if not host_report %}
        <td>
          <a href="/admin/stats/host/{{ problem.uuid }}">{{ problem.uuid }}</a>
        </td>
        {% endif %}
        <td>{{ problem.mtime }}</td>
        <td>{{ problem.mtime|timesince }}</td>
      </tr>
    {% endfor %}
  </table>

  {% if next_page %}
    <a href="/admin/stats/installproblems?page={{ next_page }}">Next Page &raquo;</a>
  {% endif %}

{% endif %}

{% endblock %}

